"use strict";(self.webpackChunkeBusinesscard=self.webpackChunkeBusinesscard||[]).push([[918],{918:(D,m,c)=>{c.r(m),c.d(m,{FeedbackModule:()=>N});var u=c(6895),b=c(1483),e=c(4650);let f=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-feedback"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"add-feedback works!"),e.qZA())}}),a})();var s=c(2340),Z=c(9262),r=c(262),g=c(529),l=c(2843);let F=(()=>{class a{constructor(t){this.http=t,this.getFeedbackDetails=n=>this.http.post(s.N.backendUrl+"/api/feedback/allfeedback",n,this.getRequestHeaders()).pipe((0,r.K)(o=>(0,l._)(o))),this.deleteFeedback=n=>this.http.post(s.N.backendUrl+"/api/feedback/deletefeedback",n,this.getRequestHeaders()).pipe((0,r.K)(o=>(0,l._)(o))),this.addFeedback=n=>this.http.post(s.N.backendUrl+"/api/feedback/feedbackadd",n,this.getRequestHeaders()).pipe((0,r.K)(o=>(0,l._)(o))),this.getFeedbackById=n=>this.http.post(s.N.backendUrl+"/api/feedback/feedbackbyid",n,this.getRequestHeaders()).pipe((0,r.K)(o=>(0,l._)(o))),this.editFeedbackdata=(n,i)=>{let o=s.N.backendUrl+"/api/feedback/feedbackedit";return i&&(o+=`?id=${i}`),this.http.post(o,n,this.getRequestHeaders()).pipe((0,r.K)(h=>(0,l._)(h)))},this.getFeedbacks=n=>this.http.post(s.N.backendUrl+"/api/feedback/getuserfeedback",n,this.getRequestHeaders()).pipe((0,r.K)(o=>(0,l._)(o)))}getRequestHeaders(){let t;const n=localStorage.getItem("bcard-access-token");return t=new g.WM({Authorization:`Bearer ${n}`}),{headers:t}}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(g.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const A=["closebutton"];function x(a,d){1&a&&(e.TgZ(0,"td",24)(1,"div",25),e._uU(2," Feedback List is Empty "),e.qZA()())}function T(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"a",26),e.NdJ("click",function(){const o=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.viewFeedbackData(o))}),e._UZ(15,"i",27),e.qZA()()()}if(2&a){const t=d.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.subject),e.xp6(2),e.Oqu(t.message),e.xp6(2),e.Oqu(t.company)}}function U(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",28)(1,"app-pagination",29,30),e.NdJ("changePage",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.onListChangePage(i))}),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("initialPage",t.currentPage)("count",t.totalRecord)}}function q(a,d){if(1&a&&(e.TgZ(0,"div",31)(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()()),2&a){const t=e.oxw();e.xp6(2),e.hij("Name: ",t.feedbackData.name,""),e.xp6(2),e.hij("Email: ",t.feedbackData.email,""),e.xp6(2),e.hij("Phone: ",t.feedbackData.phone,""),e.xp6(2),e.hij("Company: ",t.feedbackData.company,""),e.xp6(2),e.hij("Subject: ",t.feedbackData.subject,""),e.xp6(2),e.hij("Message: ",t.feedbackData.message,"")}}let k=(()=>{class a{constructor(t,n,i){this.router=t,this.serviceservice=n,this.feedbackService=i,this.msg_danger=!1,this.currentPage=1,this.initialized=!1,this.currentLimit=5,this.totalRecord=0,this.feedbackList=[],this.imagePath=s.N.backendUrl+"/public/"}ngOnInit(){let t=localStorage.getItem("user");t&&(this.user=JSON.parse(t)),this.get_feedbackData()}get_feedbackData(){this.feedbackService.getFeedbackDetails({limit:this.currentLimit,page:this.currentPage,user:this.user._id}).subscribe(n=>{200==n.code&&(null!=n.result&&""!=n.result?(this.feedbackList=n.result,this.totalRecord=n?.count):this.msg_danger=!0)})}viewFeedbackData(t){this.feedbackData=t}closeViewModal(){this.closebutton.nativeElement.click()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(b.F0),e.Y36(Z.m),e.Y36(F))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-view-feedback"]],viewQuery:function(t,n){if(1&t&&e.Gf(A,5),2&t){let i;e.iGM(i=e.CRH())&&(n.closebutton=i.first)}},decls:46,vars:4,consts:[[1,"right-side"],[1,"content"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"col-md-6"],[1,"title"],[1,"card"],[1,"content","table-responsive","table-full-width"],[1,"table","table-hover","table-striped"],["colspan","6",4,"ngIf"],[4,"ngFor","ngForOf"],["class","pixtar-pagination",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-","","labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-danger"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["closebutton",""],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal","closebutton","",1,"btn","btn-warning"],["colspan","6"],[1,"alert","alert-dismissable",2,"text-align","center"],["data-bs-toggle","modal","data-bs-target","#exampleModal",2,"cursor","pointer",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[1,"pixtar-pagination"],[3,"initialPage","count","changePage"],["pagination",""],[1,"modal-body"]],template:function(t,n){1&t&&(e.TgZ(0,"aside",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",4)(7,"div",6)(8,"h4",7),e._uU(9,"Feedback List"),e.qZA()()()(),e.TgZ(10,"div",5)(11,"div",8)(12,"div",9)(13,"table",10)(14,"thead")(15,"tr")(16,"th"),e._uU(17,"Name"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Email"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Phone"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Subject"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Message"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Company"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Action"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,x,3,0,"td",11),e.YNc(32,T,16,6,"tr",12),e.qZA()(),e.YNc(33,U,3,2,"div",13),e.qZA()()()()()()()(),e.TgZ(34,"div",14)(35,"div",15)(36,"div",16)(37,"div",17)(38,"h5",18),e._uU(39,"Feedback Details"),e.qZA(),e._UZ(40,"button",19,20),e.qZA(),e.YNc(42,q,13,6,"div",21),e.TgZ(43,"div",22)(44,"button",23),e._uU(45,"Close"),e.qZA()()()()()),2&t&&(e.xp6(31),e.Q6J("ngIf",n.msg_danger),e.xp6(1),e.Q6J("ngForOf",n.feedbackList),e.xp6(1),e.Q6J("ngIf",n.totalRecord>0),e.xp6(9),e.Q6J("ngIf",n.feedbackData))},dependencies:[u.sg,u.O5]}),a})();var p=c(8602);const C=[{path:"add",component:f,canActivate:[p.a]},{path:"view",component:k,canActivate:[p.a]},{path:"edit/:id",component:f,canActivate:[p.a],data:{title:"edit"}},{path:"**",component:k,canActivate:[p.a]}];let y=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[b.Bz.forChild(C),b.Bz]}),a})();var v=c(433),w=c(6913),M=c(9207),_=c(1894);let N=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,y,v.u5,v.UX,g.JF,w.TA,M.UM,_.bB]}),a})()}}]);