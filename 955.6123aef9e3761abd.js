"use strict";(self.webpackChunkeBusinesscard=self.webpackChunkeBusinesscard||[]).push([[955],{9955:(Q,p,s)=>{s.r(p),s.d(p,{ServiceModule:()=>k});var l=s(6895),d=s(1483),e=s(4650),u=s(2340),a=s(433),b=s(6570),g=s(9262),f=s(6913),v=s(9207);const C=["uploader"];function Z(i,o){1&i&&(e.TgZ(0,"span",25),e._uU(1,"Service Name is required"),e.qZA())}function S(i,o){1&i&&(e.TgZ(0,"span",25),e._uU(1,"Please Enter the 30 length Service Name"),e.qZA())}function A(i,o){1&i&&(e.TgZ(0,"span",25),e._uU(1,"Description is required"),e.qZA())}function P(i,o){1&i&&(e.TgZ(0,"span",25),e._uU(1,"Price is required"),e.qZA())}function x(i,o){1&i&&(e.TgZ(0,"span",25),e._uU(1,"Link is required"),e.qZA())}function T(i,o){if(1&i&&e._UZ(0,"img",26),2&i){const t=e.oxw();e.hYB("src","",t.imagePath,"",t.serviceImage,"",e.LSH)}}let h=(()=>{class i{constructor(t,n,r,c,Y){this.router=t,this.route=n,this.toastr=r,this.formBuilder=c,this.serviceservice=Y,this.isEdit=!1,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"200px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"career_box",name:"Rajdhani sans-serif"}]},this.submitted=!1,this.msg_success=!1,this.msg_danger=!1,this.hasError=(F,E)=>this.addServiceForm.controls[F].hasError(E),this.uploadInput=new e.vpe,this.id=this.route.snapshot.paramMap.get("id"),this.imagePath=u.N.backendUrl+"/public/",this.uploadInput=new e.vpe,this.addServiceForm=this.formBuilder.group({name:["",[a.kI.required,a.kI.maxLength(30)]],desc:["",a.kI.required],price:["",a.kI.required],link:["",a.kI.required],status:["true",a.kI.required]}),this.imagePath=u.N.backendUrl+"/public/"}ngOnInit(){let t=localStorage.getItem("user");if(t&&(this.user=JSON.parse(t)),this.id=this.route.snapshot.paramMap.get("id"),this.route.snapshot.data){let n=this.route.snapshot.data;n&&"edit"==n.title?this.isEdit=!0:n&&"view"==n.title&&(this.isEdit=!1)}this.isEdit?(this.addData(this.id),this.applyAction="Update"):this.applyAction="Add"}addData(t){this.serviceservice.getServiceById({_id:t}).subscribe(r=>{if(200==r.code){let c=r?.result;this.serviceImage=c?.image,this.addServiceForm.patchValue({name:c?.name,desc:c?.desc,price:c?.price,link:c?.link,status:c?.status})}})}onUploadOutput(t){"allAddedToQueue"===t.type?this.uploadInput.emit({type:"uploadAll",url:u.N.backendUrl+"/api/home/addimage",method:"POST",data:{}}):"done"===t.type&&typeof t.file<"u"&&(this.serviceImage=t.file.response.result)}onSubmit(){this.submitted=!0;let t=this.addServiceForm.value,n=this.id;t.image=this.serviceImage,t.user=this.user._id,!this.addServiceForm.invalid&&(this.isEdit?this.serviceservice.editServicedata(t,n).subscribe(r=>{200==r.code?(this.msg_success=!0,this.toastr.successToastr(r.message),setTimeout(()=>{this.router.navigate(["/admin/service/view"])},2e3)):this.toastr.errorToastr(r.message)}):this.serviceservice.addService(t).subscribe(r=>{200==r.code?(this.toastr.successToastr(r.message),setTimeout(()=>{this.router.navigate(["/admin/service/view"])},2e3)):400==r.code&&this.toastr.errorToastr(r.message)}))}onCancel(){this.router.navigate(["/admin/service/view"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.F0),e.Y36(d.gz),e.Y36(b.eP),e.Y36(a.qu),e.Y36(g.m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-service"]],viewQuery:function(t,n){if(1&t&&e.Gf(C,5,e.SBq),2&t){let r;e.iGM(r=e.CRH())&&(n.fileInput=r.first)}},decls:52,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-xl-8","col-lg-10","col-md-12","m-auto"],[1,"form-card"],[1,"mb-3"],[1,"my-3"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"box-body"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","name","autocomplete","off","formControlName","name","placeholder","Service Name",1,"form-control"],["class","alert-danger",4,"ngIf"],["name","desc","formControlName","desc",3,"config"],["type","text","name","price","autocomplete","off","formControlName","price","placeholder","Service Price",1,"form-control"],["type","text","name","link","autocomplete","off","formControlName","link","placeholder","Service Link",1,"form-control"],["type","file","ngFileSelect","",3,"uploadInput","uploadOutput"],["uploader",""],["for","exampleInputEmail1",2,"display","block"],["alt","logo","style","height: 100px; width: 100px;",3,"src",4,"ngIf"],["name","status","formControlName","status",1,"form-control"],["value","true"],["value","false"],[1,"box-footer","mt-4"],["type","submit",1,"btn","btn-dark","ms-2"],["type","cancel ",1,"btn","btn-dark",3,"click"],[1,"alert-danger"],["alt","logo",2,"height","100px","width","100px",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h4",4),e._uU(6,"Service"),e.qZA(),e._UZ(7,"hr",5),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Service Name"),e.qZA(),e._UZ(13,"input",10),e.YNc(14,Z,2,0,"span",11),e.YNc(15,S,2,0,"span",11),e.qZA(),e.TgZ(16,"div",8)(17,"label",9),e._uU(18,"Description"),e.qZA(),e._UZ(19,"angular-editor",12),e.YNc(20,A,2,0,"span",11),e.qZA(),e.TgZ(21,"div",8)(22,"label",9),e._uU(23,"Service Price"),e.qZA(),e._UZ(24,"input",13),e.YNc(25,P,2,0,"span",11),e.qZA(),e.TgZ(26,"div",8)(27,"label",9),e._uU(28,"Link"),e.qZA(),e._UZ(29,"input",14),e.YNc(30,x,2,0,"span",11),e.qZA(),e.TgZ(31,"div",8)(32,"label",9),e._uU(33,"Service Image"),e.qZA(),e.TgZ(34,"input",15,16),e.NdJ("uploadOutput",function(c){return n.onUploadOutput(c)}),e.qZA(),e.TgZ(36,"label",17),e._uU(37,"(Required Size 141 * 141)"),e.qZA(),e.YNc(38,T,1,2,"img",18),e.qZA(),e.TgZ(39,"div",8)(40,"label",9),e._uU(41,"Status"),e.qZA(),e.TgZ(42,"select",19)(43,"option",20),e._uU(44,"Active"),e.qZA(),e.TgZ(45,"option",21),e._uU(46,"InActive"),e.qZA()()()(),e.TgZ(47,"div",22)(48,"button",23),e._uU(49,"Submit"),e.qZA(),e.TgZ(50,"button",24),e.NdJ("click",function(){return n.onCancel()}),e._uU(51,"Cancel"),e.qZA()()()()()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",n.addServiceForm),e.xp6(6),e.Q6J("ngIf",n.submitted&&n.hasError("name","required")),e.xp6(1),e.Q6J("ngIf",n.submitted&&n.hasError("name","maxlength")),e.xp6(4),e.Q6J("config",n.editorConfig),e.xp6(1),e.Q6J("ngIf",n.submitted&&n.hasError("desc","required")),e.xp6(5),e.Q6J("ngIf",n.submitted&&n.hasError("price","required")),e.xp6(5),e.Q6J("ngIf",n.submitted&&n.hasError("link","required")),e.xp6(4),e.Q6J("uploadInput",n.uploadInput),e.xp6(4),e.Q6J("ngIf",n.serviceImage))},dependencies:[l.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,f.qx,v.s6],styles:[".form-card[_ngcontent-%COMP%]{background:#fff;padding:20px 30px;border-radius:15px;box-shadow:0 0 10px silver;overflow:hidden}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .img-uploader[_ngcontent-%COMP%]{position:relative}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .img-uploader[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px}@media (max-width: 575px){.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .img-uploader[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #000;border-radius:30px;transition:all .5s}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#212529;box-shadow:none}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#212529;box-shadow:none}"]}),i})();function O(i,o){1&i&&(e.TgZ(0,"td",15)(1,"div",16),e._uU(2," Service List is Empty "),e.qZA()())}function M(i,o){1&i&&(e.TgZ(0,"td"),e._uU(1,"Active"),e.qZA())}function U(i,o){1&i&&(e.TgZ(0,"td"),e._uU(1,"InActive"),e.qZA())}function q(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e._UZ(3,"td",17),e.TgZ(4,"td"),e._UZ(5,"img",18),e.qZA(),e.TgZ(6,"td")(7,"p"),e._uU(8),e.qZA()(),e.YNc(9,M,2,0,"td",19),e.YNc(10,U,2,0,"td",19),e.TgZ(11,"td")(12,"a",20),e._UZ(13,"i",21),e.qZA()()()),2&i){const t=o.$implicit,n=e.oxw();e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("innerHTML",t.desc,e.oJD),e.xp6(2),e.hYB("src","",n.imagePath,"",t.image,"",e.LSH),e.xp6(3),e.Oqu(t.price),e.xp6(1),e.Q6J("ngIf",1==t.status),e.xp6(1),e.Q6J("ngIf",0==t.status),e.xp6(2),e.MGl("routerLink","/admin/service/edit/",t._id,"")}}function I(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"app-pagination",23,24),e.NdJ("changePage",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onListChangePage(r))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("initialPage",t.currentPage)("count",t.totalRecord)}}let _=(()=>{class i{constructor(t,n){this.router=t,this.serviceservice=n,this.msg_danger=!1,this.currentPage=1,this.initialized=!1,this.currentLimit=5,this.totalRecord=0,this.imagePath=u.N.backendUrl+"/public/"}ngOnInit(){let t=localStorage.getItem("user");t&&(this.user=JSON.parse(t)),this.get_serviceData()}get_serviceData(){this.serviceservice.getServices({limit:this.currentLimit,page:this.currentPage,user:this.user._id}).subscribe(n=>{200==n.code&&(null!=n.result&&""!=n.result?(this.serviceData=n.result,this.totalRecord=n?.count):this.msg_danger=!0)})}onListChangePage(t){this.currentPage=t,this.get_serviceData()}deleteService(t){confirm("Are you sure to delete this service")&&this.serviceservice.deleteService({_id:t}).subscribe(r=>{200==r.code&&(this.get_serviceData(),this.router.navigate(["/service/view"]))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.F0),e.Y36(g.m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-service"]],decls:35,vars:3,consts:[[1,"right-side"],[1,"content"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"col-md-6"],[1,"title"],["type","button","routerLink","/admin/service/add",1,"btn","btn-dark","pull-right","mb-4"],[1,"card"],[1,"content","table-responsive","table-full-width"],[1,"table","table-hover","table-striped"],["colspan","6",4,"ngIf"],[4,"ngFor","ngForOf"],["class","pixtar-pagination",4,"ngIf"],["colspan","6"],[1,"alert","alert-dismissable",2,"text-align","center"],[3,"innerHTML"],["alt","logo",2,"height","100px","width","100px",3,"src"],[4,"ngIf"],[2,"cursor","pointer",3,"routerLink"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[1,"pixtar-pagination"],[3,"initialPage","count","changePage"],["pagination",""]],template:function(t,n){1&t&&(e.TgZ(0,"aside",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",4)(7,"div",6)(8,"h4",7),e._uU(9,"Service List"),e.qZA()(),e.TgZ(10,"div",6)(11,"button",8),e._uU(12,"Add Service"),e.qZA()()()(),e.TgZ(13,"div",5)(14,"div",9)(15,"div",10)(16,"table",11)(17,"thead")(18,"tr")(19,"th"),e._uU(20,"Service Name"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Description"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Image"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Price"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Status"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Action"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,O,3,0,"td",12),e.YNc(33,q,14,8,"tr",13),e.qZA()(),e.YNc(34,I,3,2,"div",14),e.qZA()()()()()()()()),2&t&&(e.xp6(32),e.Q6J("ngIf",n.msg_danger),e.xp6(1),e.Q6J("ngForOf",n.serviceData),e.xp6(1),e.Q6J("ngIf",n.totalRecord>0))},dependencies:[l.sg,l.O5,d.rH,d.yS],styles:[".form-card[_ngcontent-%COMP%]{background:#fff;padding:20px 30px;border-radius:15px;box-shadow:0 0 10px silver;overflow:hidden}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .img-uploader[_ngcontent-%COMP%]{position:relative}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .img-uploader[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px}@media (max-width: 575px){.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .img-uploader[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #000;border-radius:30px;transition:all .5s}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#212529;box-shadow:none}.form-card[_ngcontent-%COMP%]   .user-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#212529;box-shadow:none}"]}),i})();var m=s(8602);const y=[{path:"add",component:h,canActivate:[m.a]},{path:"view",component:_,canActivate:[m.a]},{path:"edit/:id",component:h,canActivate:[m.a],data:{title:"edit"}},{path:"**",component:_,canActivate:[m.a]}];let w=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.Bz.forChild(y),d.Bz]}),i})();var N=s(529),J=s(1894);let k=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,w,a.u5,a.UX,N.JF,f.TA,v.UM,J.bB]}),i})()}}]);