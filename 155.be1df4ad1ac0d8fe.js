"use strict";(self.webpackChunkeBusinesscard=self.webpackChunkeBusinesscard||[]).push([[155],{8155:(Q,p,r)=>{r.r(p),r.d(p,{AboutusModule:()=>F});var l=r(6895),d=r(1483),s=r(433),t=r(4650),h=r(6570),m=r(8313),g=r(9207);function A(e,n){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Service Name is required"),t.qZA())}function _(e,n){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Please Enter the 30 length Service Name"),t.qZA())}function Z(e,n){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Business Type is required"),t.qZA())}function v(e,n){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Description is required"),t.qZA())}function T(e,n){1&e&&(t.TgZ(0,"span",23),t._uU(1,"year is required"),t.qZA())}function q(e,n){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Services is required"),t.qZA())}function U(e,n){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Links is required"),t.qZA())}let f=(()=>{class e{constructor(o,i,a,u,M){this.router=o,this.route=i,this.toastr=a,this.formBuilder=u,this.dataService=M,this.isEdit=!1,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"200px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"career_box",name:"Rajdhani sans-serif"}]},this.submitted=!1,this.msg_success=!1,this.msg_danger=!1,this.hasError=(O,P)=>this.addAboutUsForm.controls[O].hasError(P),this.id=this.route.snapshot.paramMap.get("id"),this.addAboutUsForm=this.formBuilder.group({company_name:["",[s.kI.required,s.kI.maxLength(30)]],description:["",s.kI.required],business_type:["",s.kI.required],year:["",s.kI.required],services:["",s.kI.required],links:["",s.kI.required],status:["true",s.kI.required]})}ngOnInit(){let o=localStorage.getItem("user");if(o&&(this.user=JSON.parse(o)),this.id=this.route.snapshot.paramMap.get("id"),this.route.snapshot.data){let i=this.route.snapshot.data;i&&"edit"==i.title?this.isEdit=!0:i&&"view"==i.title&&(this.isEdit=!1)}this.isEdit?(this.getAboutus(this.id),this.applyAction="Update"):this.applyAction="Add"}getAboutus(o){this.dataService.getAboutusById({_id:o}).subscribe(a=>{if(200==a.code){let u=a?.result;this.addAboutUsForm.patchValue({company_name:u?.company_name,description:u?.description,year:u?.year,business_type:u?.business_type,services:u?.services,links:u?.links,user_id:u?.user_id,status:u?.status})}})}onSubmit(){this.submitted=!0;let o=this.addAboutUsForm.value,i=this.id;o.user_id=this.user._id,!this.addAboutUsForm.invalid&&(this.isEdit?this.dataService.editData(o,i).subscribe(a=>{200==a.code?(this.msg_success=!0,this.toastr.successToastr(a.message),setTimeout(()=>{this.router.navigate(["/admin/aboutus/view"])},2e3)):this.toastr.errorToastr(a.message)}):this.dataService.create(o).subscribe(a=>{200==a.code?(this.toastr.successToastr(a.message),setTimeout(()=>{this.router.navigate(["/admin/aboutus/view"])},2e3)):400==a.code&&this.toastr.errorToastr(a.message)}))}onCancel(){this.router.navigate(["/admin/aboutus/view"])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.F0),t.Y36(d.gz),t.Y36(h.eP),t.Y36(s.qu),t.Y36(m.c))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-aboutus"]],decls:54,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-xl-8","col-lg-10","col-md-12","m-auto"],[1,"card","p-4"],[1,"mb-3"],[1,"my-3"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"box-body"],[1,"form-group"],["for","exampleInputEmail1",1,"form-label"],["type","text","name","company_name","autocomplete","off","formControlName","company_name","placeholder","Company Name",1,"form-control"],["class","alert-danger",4,"ngIf"],["type","text","name","business_type","autocomplete","off","formControlName","business_type","placeholder","Business Type",1,"form-control"],["name","description","formControlName","description",3,"config"],["type","text","name","year","autocomplete","off","formControlName","year","placeholder","Year",1,"form-control"],["type","text","name","services","autocomplete","off","formControlName","services","placeholder","Services",1,"form-control"],["type","text","name","links","autocomplete","off","formControlName","links","placeholder","Links",1,"form-control"],["name","status","formControlName","status",1,"form-control"],["value","true"],["value","false"],[1,"box-footer","mt-3"],["type","submit",1,"btn","btn-dark"],["type","cancel",1,"btn","btn-dark","ms-3",3,"click"],[1,"alert-danger"]],template:function(o,i){1&o&&(t.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h4",4),t._uU(6,"About Us"),t.qZA(),t._UZ(7,"hr",5),t.TgZ(8,"form",6),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(9,"div",7)(10,"div",8)(11,"label",9),t._uU(12,"Company Name"),t.qZA(),t._UZ(13,"input",10),t.YNc(14,A,2,0,"span",11),t.YNc(15,_,2,0,"span",11),t.qZA(),t.TgZ(16,"div",8)(17,"label",9),t._uU(18,"Business Type"),t.qZA(),t._UZ(19,"input",12),t.YNc(20,Z,2,0,"span",11),t.qZA(),t.TgZ(21,"div",8)(22,"label",9),t._uU(23,"Description"),t.qZA(),t._UZ(24,"angular-editor",13),t.YNc(25,v,2,0,"span",11),t.qZA(),t.TgZ(26,"div",8)(27,"label",9),t._uU(28,"Year"),t.qZA(),t._UZ(29,"input",14),t.YNc(30,T,2,0,"span",11),t.qZA(),t.TgZ(31,"div",8)(32,"label",9),t._uU(33,"Services"),t.qZA(),t._UZ(34,"input",15),t.YNc(35,q,2,0,"span",11),t.qZA(),t.TgZ(36,"div",8)(37,"label",9),t._uU(38,"Link"),t.qZA(),t._UZ(39,"input",16),t.YNc(40,U,2,0,"span",11),t.qZA(),t.TgZ(41,"div",8)(42,"label",9),t._uU(43,"Status"),t.qZA(),t.TgZ(44,"select",17)(45,"option",18),t._uU(46,"Active"),t.qZA(),t.TgZ(47,"option",19),t._uU(48,"InActive"),t.qZA()()()(),t.TgZ(49,"div",20)(50,"button",21),t._uU(51,"Submit"),t.qZA(),t.TgZ(52,"button",22),t.NdJ("click",function(){return i.onCancel()}),t._uU(53,"Cancel"),t.qZA()()()()()()()()),2&o&&(t.xp6(8),t.Q6J("formGroup",i.addAboutUsForm),t.xp6(6),t.Q6J("ngIf",i.submitted&&i.hasError("company_name","required")),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.hasError("company_name","maxlength")),t.xp6(5),t.Q6J("ngIf",i.submitted&&i.hasError("business_type","required")),t.xp6(4),t.Q6J("config",i.editorConfig),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.hasError("description","required")),t.xp6(5),t.Q6J("ngIf",i.submitted&&i.hasError("year","required")),t.xp6(5),t.Q6J("ngIf",i.submitted&&i.hasError("services","required")),t.xp6(5),t.Q6J("ngIf",i.submitted&&i.hasError("links","required")))},dependencies:[l.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,g.s6],styles:[".form-control[_ngcontent-%COMP%]:focus{border-color:#212529;box-shadow:none;outline:none}"]}),e})();function y(e,n){1&e&&(t.TgZ(0,"div",6)(1,"button",15),t._uU(2,"Add aboutus"),t.qZA()())}function C(e,n){1&e&&(t.TgZ(0,"td",16)(1,"div",17),t._uU(2," About List is Empty "),t.qZA()())}function x(e,n){1&e&&(t.TgZ(0,"td"),t._uU(1,"Active"),t.qZA())}function I(e,n){1&e&&(t.TgZ(0,"td"),t._uU(1,"InActive"),t.qZA())}function N(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"p"),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.YNc(10,x,2,0,"td",18),t.YNc(11,I,2,0,"td",18),t.TgZ(12,"td")(13,"a",19),t._UZ(14,"i",20),t.qZA()()()),2&e){const o=n.$implicit;t.xp6(2),t.Oqu(o.company_name),t.xp6(3),t.Oqu(o.business_type),t.xp6(2),t.Oqu(o.year),t.xp6(2),t.Oqu(o.user_name),t.xp6(1),t.Q6J("ngIf",1==o.status),t.xp6(1),t.Q6J("ngIf",0==o.status),t.xp6(2),t.MGl("routerLink","/admin/aboutus/edit/",o._id,"")}}function J(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",21)(1,"app-pagination",22,23),t.NdJ("changePage",function(a){t.CHM(o);const u=t.oxw();return t.KtG(u.onListChangePage(a))}),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(1),t.Q6J("initialPage",o.currentPage)("count",o.totalRecord)}}let b=(()=>{class e{constructor(o,i){this.router=o,this.aboutservice=i,this.currentPage=1,this.initialized=!1,this.currentLimit=5,this.totalRecord=0,this.addbutton=!1}ngOnInit(){let o=localStorage.getItem("user");o&&(this.user=JSON.parse(o)),this.getAboutUs()}getAboutUs(){this.aboutservice.getAboutus({limit:this.currentLimit,page:this.currentPage,_id:this.user._id}).subscribe(i=>{200==i.code&&(null!=i.all_aboutus&&""!=i.all_aboutus?(this.aboutus=i.all_aboutus,this.totalRecord=i?.count):(this.msg_danger=!0,this.addbutton=!0))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.F0),t.Y36(m.c))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-view-aboutus"]],decls:33,vars:4,consts:[[1,"right-side"],[1,"content"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"col-md-6"],[1,"title"],["class","col-md-6",4,"ngIf"],[1,"card"],[1,"content","table-responsive","table-full-width"],[1,"table","table-hover","table-striped"],["colspan","6",4,"ngIf"],[4,"ngFor","ngForOf"],["class","pixtar-pagination",4,"ngIf"],["type","button","routerLink","/admin/aboutus/add",1,"btn","pull-right","btn-dark","mb-4"],["colspan","6"],[1,"alert","alert-dismissable",2,"text-align","center"],[4,"ngIf"],[2,"cursor","pointer",3,"routerLink"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[1,"pixtar-pagination"],[3,"initialPage","count","changePage"],["pagination",""]],template:function(o,i){1&o&&(t.TgZ(0,"aside",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",4)(7,"div",6)(8,"h4",7),t._uU(9,"About Us"),t.qZA()(),t.YNc(10,y,3,0,"div",8),t.qZA()(),t.TgZ(11,"div",5)(12,"div",9)(13,"div",10)(14,"table",11)(15,"thead")(16,"tr")(17,"th"),t._uU(18,"Company Name"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Business Type"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Year"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"UserName"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Status"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Action"),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,C,3,0,"td",12),t.YNc(31,N,15,7,"tr",13),t.qZA()(),t.YNc(32,J,3,2,"div",14),t.qZA()()()()()()()()),2&o&&(t.xp6(10),t.Q6J("ngIf",i.addbutton),t.xp6(20),t.Q6J("ngIf",i.msg_danger),t.xp6(1),t.Q6J("ngForOf",i.aboutus),t.xp6(1),t.Q6J("ngIf",i.totalRecord>0))},dependencies:[l.sg,l.O5,d.rH,d.yS],styles:[".design-btn[_ngcontent-%COMP%]{background:transparent;border-color:#000;box-shadow:none;color:#000;border-radius:30px}.design-btn[_ngcontent-%COMP%]:hover, .design-btn[_ngcontent-%COMP%]:focus, .design-btn[_ngcontent-%COMP%]:active{border-color:#000;background-color:#000;color:#fff}@media (max-width: 1024px){.design-btn[_ngcontent-%COMP%]{font-size:14px}}"]}),e})();var c=r(8602);const S=[{path:"add",component:f,canActivate:[c.a]},{path:"view",component:b,canActivate:[c.a]},{path:"edit/:id",component:f,canActivate:[c.a],data:{title:"edit"}},{path:"**",component:b,canActivate:[c.a]}];let Y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(S),d.Bz]}),e})();var k=r(529),w=r(6913),E=r(1894);let F=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,Y,s.u5,s.UX,k.JF,w.TA,g.UM,E.bB]}),e})()}}]);